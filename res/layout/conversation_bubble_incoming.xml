<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
                xmlns:app="http://schemas.android.com/apk/res-auto"
                xmlns:tools="http://schemas.android.com/tools"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content">

    <View android:id="@+id/triangle_tick"
          android:layout_width="12dp"
          android:layout_height="15dp"
          android:layout_marginTop="12dp"
          android:layout_alignParentLeft="true"
          android:layout_alignParentStart="true"
          android:background="?conversation_item_received_triangle_background" />

    <FrameLayout android:id="@+id/media_bubble"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:visibility="gone"
                 android:layout_toRightOf="@id/triangle_tick"
                 android:layout_toEndOf="@id/triangle_tick"
                 android:background="@drawable/conversation_item_media_background"
                 tools:visibility="visible">

        <org.thoughtcrime.securesms.components.ForegroundImageView
                android:id="@+id/image_view"
                android:layout_width="wrap_content"
                android:layout_height="210dp"
                android:layout_gravity="center"
                android:scaleType="centerCrop"
                android:adjustViewBounds="true"
                android:contentDescription="@string/conversation_item__mms_image_description"
                app:riv_corner_radius="@dimen/conversation_item_corner_radius"
                app:riv_border_width="3dp"
                tools:src="@drawable/ic_video_light" />

        <ImageView android:id="@+id/image_downloading"
                   android:layout_width="210dp"
                   android:layout_height="210dp"
                   android:layout_gravity="center"
                   android:scaleType="center"
                   android:src="@drawable/stat_sys_download"
                   android:contentDescription="@string/conversation_item__mms_downloading_description"
                   android:visibility="gone" />

    </FrameLayout>

    <LinearLayout android:id="@+id/body_bubble"
                  android:layout_width="wrap_content"
                  android:layout_height="wrap_content"
                  android:layout_toRightOf="@id/triangle_tick"
                  android:layout_toEndOf="@id/triangle_tick"
                  android:layout_below="@id/media_bubble"
                  android:background="@drawable/conversation_item_received_shape"
                  android:orientation="vertical">

        <TextView android:id="@+id/conversation_item_body"
                  android:layout_width="wrap_content"
                  android:layout_height="wrap_content"
                  android:paddingTop="5dip"
                  android:paddingLeft="10dp"
                  android:paddingRight="10dp"
                  android:textAppearance="?android:attr/textAppearanceSmall"
                  android:textColor="?conversation_received_text_primary_color"
                  android:textSize="16sp"
                  android:autoLink="all"
                  android:linksClickable="true" />

        <LinearLayout android:id="@+id/mms_download_controls"
                      android:layout_width="wrap_content"
                      android:layout_height="wrap_content"
                      android:orientation="horizontal">

            <Button android:id="@+id/mms_download_button"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center_vertical"
                    android:text="@string/conversation_item_received__download"
                    android:visibility="gone" />

            <TextView android:id="@+id/mms_label_downloading"
                      android:layout_width="wrap_content"
                      android:layout_height="wrap_content"
                      android:layout_marginLeft="5dp"
                      android:layout_marginRight="5dp"
                      android:gravity="center"
                      android:text="@string/conversation_item_received__downloading"
                      android:visibility="gone" />

        </LinearLayout>

        <LinearLayout android:layout_width="wrap_content"
                      android:layout_height="wrap_content"
                      android:paddingTop="2dip"
                      android:paddingLeft="8dp"
                      android:paddingRight="5dp"
                      android:paddingBottom="5dp"
                      android:orientation="horizontal"
                      android:gravity="left">

            <ImageView android:id="@+id/delivered_indicator"
                       android:layout_width="wrap_content"
                       android:layout_height="wrap_content"
                       android:paddingRight="3dip"
                       android:src="?conversation_delivery_delivered"
                       android:contentDescription="@string/conversation_item_sent__delivered_description"
                       android:visibility="gone" />

            <ImageView android:id="@+id/sms_secure_indicator"
                       android:layout_width="wrap_content"
                       android:layout_height="wrap_content"
                       android:layout_gravity="center_vertical"
                       android:paddingRight="4dp"
                       android:paddingTop="2dp"
                       android:src="?menu_lock_icon_small_received"
                       android:contentDescription="@string/conversation_item__secure_message_description"
                       android:visibility="gone" />

            <TextView android:id="@+id/conversation_item_date"
                      android:layout_width="wrap_content"
                      android:layout_height="wrap_content"
                      android:layout_gravity="left"
                      android:paddingTop="1dip"
                      android:textAppearance="?android:attr/textAppearanceSmall"
                      android:textColor="?conversation_received_text_secondary_color"
                      android:textSize="@dimen/conversation_item_date_text_size"
                      android:fontFamily="sans-serif-light"
                      android:autoLink="none"
                      android:linksClickable="false" />
        </LinearLayout>
    </LinearLayout>

</RelativeLayout>